<cvw-header>
  <cvw-tab
    [active]="mode() === 'group'"
    label="Groupe de catégorie"
    icon="group"
    (click)="setMode('group')"
  ></cvw-tab>
  <cvw-tab
    [active]="mode() === 'alphabetical'"
    label="Ordre alphabétique"
    icon="alphabetical"
    (click)="setMode('alphabetical')"
  ></cvw-tab>
</cvw-header>
<cvw-card>
  <form class="cvw-search">
    <input class="cvw-field" [field]="searchForm.query" placeholder="Rechercher une catégorie" />
    <select class="cvw-dropdown" [field]="searchForm.group">
      <option value="">Toutes les catégories</option>
      @for (group of groups(); track group.id) {
        <option [value]="group.id">{{ group.name }}</option>
      }
    </select>
  </form>
  @if (mode() === 'alphabetical') {
    <cvw-category-list [categories]="filteredCategories()"></cvw-category-list>
  } @else {
    <cvw-category-group [categories]="filteredCategories()"></cvw-category-group>
  }
</cvw-card>
